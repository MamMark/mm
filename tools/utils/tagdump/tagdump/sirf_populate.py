'''assign decoders and emitters for sirfbin mids'''

import sirf_defs     as     sirf
from   sirf_decoders import *
from   sirf_emitters import *
from   sirf_headers  import *

def decode_default(level, offset, buf, obj):
    return obj.set(buf)

def decode_null(level, offset, buf, obj):
    return 0



#                      MID_DECODER           MID_EMITTERS              MID_OBJECT               MID_NAME         MID_OBJ_NAME
sirf.mid_table[2]   = (decode_default,     [ emit_sirf_nav_data ],     sirf_nav_obj,           'navData',       'sirf_nav_obj')
sirf.mid_table[4]   = (decode_sirf_navtrk, [ emit_sirf_navtrk ],       sirf_navtrk_obj,        'navTrack',      'sirf_navtrk_obj')
sirf.mid_table[6]   = (decode_default,     [ emit_sirf_swver ],        sirf_swver_obj,         'swVer',         'sirf_swver_obj')
sirf.mid_table[11]  = (decode_null,        [ emit_sirf_ack_nack ],     None,                   'ack',           'none')
sirf.mid_table[12]  = (decode_null,        [ emit_sirf_ack_nack ],     None,                   'nack',          'none')
sirf.mid_table[13]  = (decode_sirf_vis,    [ emit_sirf_vis ],          sirf_vis_obj,           'visList',       'sirf_vis_obj')
sirf.mid_table[14]  = (decode_default,     [ emit_sirf_alm_data ],     sirf_alm_data_obj,      'almData',       'sirf_alm_data_obj')
sirf.mid_table[15]  = (decode_default,     [ emit_sirf_ephem_data ],   sirf_ephem_data_obj,    'ephemData',     'sirf_ephem_data_obj')
sirf.mid_table[18]  = (decode_default,     [ emit_sirf_ots ],          sirf_ots_obj,           'okToSend',      'sirf_ots_obj')
sirf.mid_table[19]  = (decode_default,     [ emit_default  ],          sirf_nav_params_obj,    'navParamsRsp',  'sirf_nav_params_obj')
sirf.mid_table[41]  = (decode_default,     [ emit_sirf_geo ],          sirf_geo_obj,           'geoData',       'sirf_geo_obj')
sirf.mid_table[90]  = (decode_default,     [ emit_sirf_pwr_mode_rsp ], sirf_pwr_mode_rsp_obj,  'pwrRsp',        'sirf_pwr_mode_rsp_obj')
sirf.mid_table[128] = (decode_default,     [ emit_default  ],          sirf_init_data_src_obj, 'initDataSrc',   'sirf_init_data_src_obj')
sirf.mid_table[130] = (decode_default,     [ emit_sirf_alm_set ],      sirf_alm_set_obj,       'setAlmanac',    'sirf_alm_set_obj')
sirf.mid_table[149] = (decode_default,     [ emit_sirf_ephem_set ],    sirf_ephem_set_obj,     'setEphemeris',  'sirf_ephem_set_obj')
sirf.mid_table[166] = (decode_default,     [ emit_default  ],          sirf_set_msg_rate_obj,  'setMsgRate',    'sirf_set_msg_rate_obj')
sirf.mid_table[214] = (decode_default,     [ emit_default  ],          sirf_hw_conf_rsp_obj,   'hWConfigRsp',   'sirf_hw_conf_rsp_obj')
sirf.mid_table[218] = (decode_default,     [ emit_sirf_pwr_mode_req ], sirf_pwr_mode_req_obj,  'pwrReq',        'sirf_pwr_mode_req_obj')
sirf.mid_table[225] = (decode_default,     [ emit_sirf_statistics ],   sirf_statistics_obj,    'stats',         'sirf_statistics_obj')
sirf.mid_table[255] = (decode_default,     [ emit_sirf_dev_data ],     sirf_dev_data_obj,      'devData',       'sirf_dev_data_obj')


#
# other MIDs, just define their names.  no decoders
# default emitter is print in emit_gps_raw
#
sirf.mid_table[1]   = (decode_null, None, None, 'ref nav data')
sirf.mid_table[3]   = (decode_null, None, None, 'true tracker')
sirf.mid_table[5]   = (decode_null, None, None, 'raw tracker')
sirf.mid_table[7]   = (decode_null, None, None, 'clk stat')
sirf.mid_table[8]   = (decode_null, None, None, '50 bps data')
sirf.mid_table[9]   = (decode_null, None, None, 'cpu thruput')
sirf.mid_table[10]  = (decode_null, None, None, 'error id')
sirf.mid_table[17]  = (decode_null, None, None, 'differential corrections')
sirf.mid_table[27]  = (decode_null, None, None, 'dgps status format')
sirf.mid_table[28]  = (decode_null, None, None, 'nav lib')
sirf.mid_table[29]  = (decode_null, None, None, 'nav lib dgps data')
sirf.mid_table[30]  = (decode_null, None, None, 'nav lib sv state')
sirf.mid_table[31]  = (decode_null, None, None, 'nav lib init')
sirf.mid_table[43]  = (decode_null, None, None, 'queue cmd params')
sirf.mid_table[45]  = (decode_null, None, None, 'dr raw data')
sirf.mid_table[48]  = (decode_null, None, None, 'dr nav')
sirf.mid_table[50]  = (decode_null, None, None, 'sbas params')
sirf.mid_table[51]  = (decode_null, None, None, 'unk_51')
sirf.mid_table[52]  = (decode_null, None, None, '1pps time')
sirf.mid_table[64]  = (decode_null, None, None, 'nav lib msgs')
sirf.mid_table[65]  = (decode_null, None, None, 'gpio')
sirf.mid_table[66]  = (decode_null, None, None, 'dop values')
sirf.mid_table[68]  = (decode_null, None, None, 'meas eng')
sirf.mid_table[69]  = (decode_null, None, None, 'pos rsp')
sirf.mid_table[70]  = (decode_null, None, None, 'alm/ephem status rsp')
sirf.mid_table[71]  = (decode_null, None, None, 'hw config req')
sirf.mid_table[72]  = (decode_null, None, None, 'sensor data')
sirf.mid_table[73]  = (decode_null, None, None, 'aiding req')
sirf.mid_table[74]  = (decode_null, None, None, 'session rsp')
sirf.mid_table[75]  = (decode_null, None, None, 'ack nack error')
sirf.mid_table[77]  = (decode_null, None, None, 'low pwr mode')
sirf.mid_table[88]  = (decode_null, None, None, 'unk_88')
sirf.mid_table[91]  = (decode_null, None, None, 'hw control out')
sirf.mid_table[92]  = (decode_null, None, None, 'cw data')
sirf.mid_table[93]  = (decode_null, None, None, 'TCXO learning')
sirf.mid_table[129] = (decode_null, None, None, 'set_nmea')
sirf.mid_table[131] = (decode_null, None, None, 'formated dump')
sirf.mid_table[132] = (decode_null, None, None, 'send swver')
sirf.mid_table[133] = (decode_null, None, None, 'dgps source')
sirf.mid_table[134] = (decode_null, None, None, 'set binary port')
sirf.mid_table[135] = (decode_null, None, None, 'set protocol')
sirf.mid_table[136] = (decode_null, None, None, 'mode control')
sirf.mid_table[137] = (decode_null, None, None, 'dop mask control')
sirf.mid_table[138] = (decode_null, None, None, 'dgps control')
sirf.mid_table[139] = (decode_null, None, None, 'elevation mask')
sirf.mid_table[140] = (decode_null, None, None, 'power mask')
sirf.mid_table[143] = (decode_null, None, None, 'static navigation')
sirf.mid_table[144] = (decode_null, None, None, 'poll_clk_status')
sirf.mid_table[145] = (decode_null, None, None, 'dgps serial port')
sirf.mid_table[146] = (decode_null, None, None, 'poll almanac')
sirf.mid_table[147] = (decode_null, None, None, 'poll ephemeris')
sirf.mid_table[148] = (decode_null, None, None, 'flash update')
sirf.mid_table[150] = (decode_null, None, None, 'switch op mode')
sirf.mid_table[151] = (decode_null, None, None, 'set trickle power')
sirf.mid_table[152] = (decode_null, None, None, 'poll nav params')
sirf.mid_table[161] = (decode_null, None, None, 'store gps snapshot')
sirf.mid_table[165] = (decode_null, None, None, 'set uart config')
sirf.mid_table[167] = (decode_null, None, None, 'set low power acq')
sirf.mid_table[168] = (decode_null, None, None, 'poll command params')
sirf.mid_table[170] = (decode_null, None, None, 'set sbas params')
sirf.mid_table[172] = (decode_null, None, None, 'sirfdrive/nav')
sirf.mid_table[175] = (decode_null, None, None, 'user set command')
sirf.mid_table[177] = (decode_null, None, None, 'data logger')
sirf.mid_table[178] = (decode_null, None, None, 'sw/tb peek/poke(3)')
sirf.mid_table[180] = (decode_null, None, None, 'gsc2xr preset op config')
sirf.mid_table[205] = (decode_null, None, None, 'sw/ctl off(16)')
sirf.mid_table[210] = (decode_null, None, None, 'position request')
sirf.mid_table[211] = (decode_null, None, None, 'set corrections')
sirf.mid_table[212] = (decode_null, None, None, 'status requests')
sirf.mid_table[213] = (decode_null, None, None, 'session_req')
sirf.mid_table[215] = (decode_null, None, None, 'aiding')
sirf.mid_table[216] = (decode_null, None, None, 'osp ack/nack/error/reject')
sirf.mid_table[219] = (decode_null, None, None, 'hw control input')
sirf.mid_table[220] = (decode_null, None, None, 'cw configuration')
sirf.mid_table[221] = (decode_null, None, None, 'tcxo learning ctrl out')
sirf.mid_table[232] = (decode_null, None, None, 'extended ephemeris')
sirf.mid_table[233] = (decode_null, None, None, 'grf3i status')
sirf.mid_table[234] = (decode_null, None, None, 'sensor control input')
