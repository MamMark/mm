
#no threads

source ../../.gdb2618
source ../../.gdb_mm

set remoteaddresssize 0d64
set remotetimeout 0d999999
target remote localhost:2000

disp/i $pc
x/i $pc
set pri ele 0

define inst
p/d SDspP__last_reset_time_uis
p/d SDspP__last_reset_time_mis
p/d SDspP__last_read_time_uis
p/d SDspP__last_read_time_mis
p/d SDspP__last_write_time_uis
p/d SDspP__last_write_time_mis
end

b RealMainP.nc:75
b RealMainP.nc:82
b SchedulerBasicP.nc:151
b SchedulerBasicP.nc:148
b VirtualizeTimerC.nc:81
dis

# 5 debug_break  (optimized out)
# b PanicP.nc:62

# 5 panic
b PanicP.nc:77
comm
printf "pcode: 0d%d (0x%0x)  where: 0d%d  0x%04x 0x%04x 0x%04x 0x%04x\n",_p,_p, _w, _a0, _a1, _a2, _a3
end

#b CollectP.nc:45
#comm
#printf "collect: len: %d (0x%02x), type: %d  id: %d\n",dlen,dlen,data[2],data[3]
#end

#b mm3CommDataP.nc:80
#comm
#printf "Data: sns: %d\n", client_id
#end
#dis 7-8

# 7
b mmP.nc:44

# ******************************************************************************
# gps start
#b GPSP.nc:448

# gps finish
#b GPSP.nc:301

# 7 Msg Collect too big
#b GPSMsgP.nc:538

# 8 Msg checksum fail
#b GPSMsgP.nc:561

# GPSP.nc
#  9 finish      502
# 10 signal surface mmControlP.nc:107
# 11 start       669
# 14 msgBoundary 1102

# 9 finish
#b GPSP.nc:502

#b mm3CommDataP.nc:163
#comm
#printf "inUse[%d] cleared\n",last
#end

# b sig_TIMERA0_VECTOR
# b sig_TIMERA1_VECTOR
# b sig_TIMERB0_VECTOR
# b sig_TIMERB1_VECTOR

# b AdcP.nc:219
# comm
# printf "PUD: owner: %d  req: %d  adc_state: %02x\n", AdcP__adc_owner, AdcP__req_client, AdcP__adc_state
# end
# b AdcP.nc:372
# comm
# printf "PowerAlarm: owner: %d\n", AdcP__adc_owner
# end
# b AdcP.nc:412
# comm
# printf "reqConf: id: %d\n",client_id
# end
# b AdcP.nc:453
# comm
# printf "reconfig: %d\n",AdcP__adc_owner
# end
# b AdcP.nc:492
# comm
# printf "release: %d %d\n",AdcP__adc_owner,client_id
# end

define nx
fini
ni 3
si 2
end

define noint
printf "cur sr: %02x\n", $r2
set $r2=0
end
