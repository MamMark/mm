#threads

source ../../.gdb2618
source ../../.gdb_mm

set remoteaddresssize 0d64
set remotetimeout 0d999999
target remote localhost:2000

disp/i $pc
x/i $pc
set pri ele 0

# 1
b TinyOSMainP.nc:89

# 2
b TinyOSMainP.nc:96
#b *TinyOSMainP__TinyOSBoot__booted+0d64

# 3 task scheduler
b SchedulerBasicP.nc:137

# 4 thread dispatch
b TinyThreadSchedulerP.nc:89

dis


# 5 debug_break  (optimized out)
# b PanicP.nc:62

# 6 panic
b PanicP.nc:77
comm
printf "pcode: 0d%d (0x%0x)  where: 0d%d  0x%04x 0x%04x 0x%04x 0x%04x\n",_p,_p, _w, _a0, _a1, _a2, _a3
end

# 7
b mmC.nc:50



# ******************************************************************************
# gps start
b GPSP.nc:448

# gps finish
b GPSP.nc:301


# 7 Msg Collect too big
#b GPSMsgP.nc:538

# 8 Msg checksum fail
#b GPSMsgP.nc:561

# GPSP.nc
#  9 finish      502
# 10 signal surface mmControlP.nc:107
# 11 start       669
# 12 SerialDefOwner.requested 1134
# 13 SerialDefOwner.granted    787
# 14 msgBoundary 1102

# 9 finish
#b GPSP.nc:502

#dis 7-15
#ena 10
#comm 10
#ena 11-14
#dis 10
#end

# 11 12
#b mmSerialCommP.nc:52
#b mmSerialCommP.nc:84


# 7 SSWrite
#b StreamStorageP.nc:628

# 8 SSRead
#b StreamStorageP.nc:798

# 9 process_geodetic got over determined
# b GPSMsgP.nc:209

# b sig_TIMERA0_VECTOR
# b sig_TIMERA1_VECTOR
# b sig_TIMERB0_VECTOR
# b sig_TIMERB1_VECTOR

# b AdcP.nc:219
# comm
# printf "PUD: owner: %d  req: %d  adc_state: %02x\n", AdcP__adc_owner, AdcP__req_client, AdcP__adc_state
# end
# b AdcP.nc:372
# comm
# printf "PowerAlarm: owner: %d\n", AdcP__adc_owner
# end
# b AdcP.nc:412
# comm
# printf "reqConf: id: %d\n",client_id
# end
# b AdcP.nc:453
# comm
# printf "reconfig: %d\n",AdcP__adc_owner
# end
# b AdcP.nc:492
# comm
# printf "release: %d %d\n",AdcP__adc_owner,client_id
# end

define nx
fini
ni 3
si 2
end

define noint
printf "cur sr: %02x\n", $r2
set $r2=0
end
