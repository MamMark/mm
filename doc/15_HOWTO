
a) How to format SD media

  - access to raw device.
  - fdisk program for partition manipulation
  - tagfmtsd program for building structures on the SD medium.
    (see gh:Mammark/mm/tools/utils/tagfmtsd.

  When you insert the media it will be mounted as a device (not file system).
  You need to figure out where the device got mounted, ie. /dev/sdc (which
  is what we assume in the examples below).

  To see how a SD is partitioned:

      gdisk -l /dev/sdc
      fdisk -l /dev/sdc

  fdisk is used to MBR partitions and we need a MBR partition with a FAT32 file system.

  $ fdisk -l /dev/sdc
  Disk /dev/sdc: 1977 MB, 1977614336 bytes
  64 heads, 63 sectors/track, 957 cylinders, total 3862528 sectors
  Units = sectors of 1 * 512 = 512 bytes
  Sector size (logical/physical): 512 bytes / 512 bytes
  I/O size (minimum/optimal): 512 bytes / 512 bytes
  Disk identifier: 0x00000000

  Device Boot      Start         End      Blocks   Id  System
  /dev/sdc1             135     3858623     1929244+   6  FAT16


  format
	mkdosfs -F 32 -I -n"TagTest" -v /dev/sdc

  check
	fsck /dev/sdc

  build
	tagfmtsd -w /dev/sdc

  check
	fsck /dev/sdc

  correct
	fsck -a /dev/sdc
	fsck    /dev/sdc
	eject   /dev/sdc


b) Building and using binary images, golden and nib

  - golden images are based at address 0 (128K)
  - nib images are based at address 128K, 0x20000 (128K)

when building add the string 'golden' or 'nib' to the command line to force
particular builds.  The build will be pu into the directory build/<target>/<type>
where <type> is 'golden" or 'nib'.

The utility, loadbin, (tools/utils/loadbin, typically installed in /usr/local/bin)
can then be used to download the main.bin from the appropriate directory to
the target chip via a Segger JLink JTAG pod.

ie.

    loadbin dev7
    loadbin -t golden dev7
    loadbin -t nib dev7


c) Grip (used to render MD (markdown) files

  pip  install grip   (python systems)
  brew install grip   (Mac OS X)

  from github:
    git clone https://github.com/MamMark/grip.git
    cd grip
    sudo python setup.py install


  Using grip:

    grip <markdownfile>
    * Running on http://localhost:6419/ (Press CTRL+C to quit)

    point a browser at http://localhost:6419/ to see your rendered doc.

  - you may run into the API rate limit in which case you should
    use a github personal access token.  You need a github login.

  see https://github.com/MamMark/grip#access
  see github, Settings->Developer settings->Personal access tokens
      https://github.com/settings/tokens/new?scopes=

**************************************************************************************

d) Remote mounting file systems.

   sshfs is used to perform the mount via a ssh tunnel.  One should set up ssh keys
   and an authorized user prior to mounting.  This will greatly simplify operation.

   rmt is the remote host whose file system we want to mount
   rmt user: xyz


   Linux -> Linux:

     sudo apt-get install sshfs
     sudo mkdir /mnt/rmt/<dir>
     sudo sshfs -o allow_other xyz@rmt:<remote_dir> /mnt/rmt/<dir>


   Linux -> MacOS:

   Filesystems on MacOS are typically case-insensitive.  ie. a file named Abcd
   is the same file as abcd.  Just be aware.

   See https://osxfuse.github.io and https://github.com/osxfuse/osxfuse/wiki/SSHFS

   Mac OS installation via packages.

   Download and install: https://github.com/osxfuse/osxfuse/releases/download/macfuse-4.1.2/macfuse-4.1.2.dmg
   Download and install: https://github.com/osxfuse/sshfs/releases/download/osxfuse-sshfs-2.5.0/sshfs-2.5.0.pkg


   Mounting remote filesystem with sshfs

     mkdir -p /mnt/rmt/<dir>
     sudo sshfs xyz@rmt:<remote_dir> /mnt/rmt/<dir>


e) Launching a Base Station

  - Base Station instll
  - Base Station hw requirements

